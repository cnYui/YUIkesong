# ğŸ§µ Stitch AI - æ™ºèƒ½ç©¿æ­åŠ©æ‰‹

> è®©AIä¸ºä½ æ­é…æ¯ä¸€å¤©çš„å®Œç¾é€ å‹

ä¸€ä¸ªåŸºäºAIæŠ€æœ¯çš„æ™ºèƒ½ç©¿æ­æ¨èåº”ç”¨ï¼Œå¸®åŠ©ç”¨æˆ·è½»æ¾ç®¡ç†è¡£æŸœã€è·å–ä¸ªæ€§åŒ–ç©¿æ­å»ºè®®ï¼Œå¹¶é€šè¿‡è™šæ‹Ÿè¯•ç©¿åŠŸèƒ½é¢„è§ˆæ­é…æ•ˆæœã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- **ğŸ¤– æ™ºèƒ½æ¨èå¼•æ“** - åŸºäºå¤©æ°”ã€åœºåˆã€ç”¨æˆ·åå¥½çš„å¤šç»´åº¦æ¨èç®—æ³•
- **ğŸ‘” AIè™šæ‹Ÿè¯•ç©¿** - ä¸Šä¼ è‡ªæ‹å’Œè¡£ç‰©ç…§ç‰‡ï¼ŒAIç”Ÿæˆè¯•ç©¿æ•ˆæœå›¾
- **ğŸ‘— ä¸ªäººè¡£æŸœç®¡ç†** - æ•°å­—åŒ–ç®¡ç†è¡£ç‰©ï¼Œæ™ºèƒ½åˆ†ç±»å’Œæ ‡ç­¾
- **ğŸŒ¤ï¸ å¤©æ°”ç©¿æ­å»ºè®®** - ç»“åˆå®æ—¶å¤©æ°”æ•°æ®ï¼Œæä¾›åˆé€‚çš„ç©¿æ­æ–¹æ¡ˆ
- **ğŸ‘¥ ç¤¾åŒºåˆ†äº«å¹³å°** - ç”¨æˆ·åˆ†äº«æ­é…ï¼Œå½¢æˆæ—¶å°šç¤¾åŒº

### ğŸš€ åˆ›æ–°åŠŸèƒ½
- **ğŸ“¸ ä¸€é”®æ‹ç…§æ·»åŠ ** - æ”¯æŒæ‹ç…§æˆ–æˆªå›¾å–œæ¬¢çš„è¡£æœï¼Œä¸€é”®æ·»åŠ åˆ°ä¸ªäººè¡£æŸœ
- **ğŸ¯ Gemini AIæ™ºèƒ½è¯†åˆ«** - è‡ªåŠ¨è¯†åˆ«è¡£ç‰©ç±»åˆ«ã€é¢œè‰²ã€é£æ ¼ï¼Œæ™ºèƒ½åˆ†ç±»æ•´ç†
- **ğŸ¬ AIè§†é¢‘ç”Ÿæˆ** - åŸºäºç”¨æˆ·è¡£æŸœå’Œåå¥½ï¼Œè‡ªåŠ¨ç”Ÿæˆä¸ªæ€§åŒ–ç©¿æ­å±•ç¤ºè§†é¢‘ï¼ˆå¼€å‘ä¸­ï¼‰
- **ğŸ’¾ ç¦»çº¿ç¼“å­˜** - æ ¸å¿ƒåŠŸèƒ½ç¦»çº¿å¯ç”¨ï¼ŒèŠ‚çœæµé‡
- **ğŸ”„ å¤šè®¾å¤‡åŒæ­¥** - æ•°æ®å®æ—¶åŒæ­¥ï¼Œéšæ—¶éšåœ°è®¿é—®

## ğŸ¯ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **Flutter** - è·¨å¹³å°ç§»åŠ¨åº”ç”¨å¼€å‘æ¡†æ¶
- **Dart** - Flutterå¼€å‘è¯­è¨€
- **Provider** - çŠ¶æ€ç®¡ç†
- **HTTP** - ç½‘ç»œè¯·æ±‚

### åç«¯
- **Node.js + Express.js** - RESTful APIæœåŠ¡
- **Supabase** - åç«¯å³æœåŠ¡å¹³å°
  - PostgreSQLæ•°æ®åº“
  - ç”¨æˆ·è®¤è¯æœåŠ¡
  - æ–‡ä»¶å­˜å‚¨æœåŠ¡
  - å®æ—¶æ•°æ®åŒæ­¥
- **JWT** - ç”¨æˆ·èº«ä»½éªŒè¯

### AIä¸ç¬¬ä¸‰æ–¹æœåŠ¡
- **Google Gemini AI** - å›¾ç‰‡è¯†åˆ«å’Œå¤„ç†
- **é«˜å¾·åœ°å›¾API** - åœ°ç†ä½ç½®å’Œå¤©æ°”æ•°æ®

### éƒ¨ç½²
- **Supabase** - åç«¯æœåŠ¡æ‰˜ç®¡
- **Git** - ç‰ˆæœ¬æ§åˆ¶
- **GitHub** - ä»£ç ä»“åº“

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Flutter SDK >= 3.0.0
- Dart >= 3.0.0
- Node.js >= 18.0.0
- Supabaseè´¦å·

### å®‰è£…æ­¥éª¤

#### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/cnYui/YUIkesong.git
cd YUIkesong
```

#### 2. åç«¯é…ç½®

```bash
cd backend/api
npm install

# åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥æ‚¨çš„é…ç½®
```

**å¿…éœ€çš„ç¯å¢ƒå˜é‡**ï¼š
- `SUPABASE_URL` - Supabaseé¡¹ç›®URL
- `SUPABASE_SERVICE_ROLE_KEY` - SupabaseæœåŠ¡å¯†é’¥
- `JWT_SECRET` - JWTå¯†é’¥

è¯¦ç»†é…ç½®è¯·å‚è€ƒ [SECURITY_SETUP.md](./SECURITY_SETUP.md)

#### 3. æ•°æ®åº“åˆå§‹åŒ–

åœ¨Supabase Dashboardä¸­æ‰§è¡ŒSQLè¿ç§»è„šæœ¬ï¼š

```bash
# æŒ‰é¡ºåºæ‰§è¡Œ supabase/ ç›®å½•ä¸‹çš„SQLæ–‡ä»¶
# 001_create_tables.sql
# 002_init_categories.sql
# 003_rls_policies.sql
# 004_storage_buckets.sql
```

#### 4. Flutterå‰ç«¯é…ç½®

```bash
cd stitch_flutter
flutter pub get

# ä½¿ç”¨ dart-define ä¼ é€’APIå¯†é’¥è¿è¡Œ
flutter run \
  --dart-define=GEMINI_API_KEY=your_gemini_key \
  --dart-define=AMAP_API_KEY=your_amap_key \
  --dart-define=SUPABASE_URL=your_supabase_url \
  --dart-define=API_BASE_URL=http://localhost:3000
```

#### 5. å¯åŠ¨åç«¯æœåŠ¡

```bash
cd backend/api
npm start
```

åº”ç”¨ç°åœ¨åº”è¯¥åœ¨ `http://localhost:3000` è¿è¡Œã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
YUIkesong/
â”œâ”€â”€ backend/                 # åç«¯æœåŠ¡
â”‚   â””â”€â”€ api/                 # Express API
â”‚       â”œâ”€â”€ routes/          # è·¯ç”±å®šä¹‰
â”‚       â”œâ”€â”€ server.js        # æœåŠ¡å™¨å…¥å£
â”‚       â””â”€â”€ .env.example     # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ stitch_flutter/          # Flutteråº”ç”¨
â”‚   â”œâ”€â”€ lib/                 # æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ config/          # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ models/          # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ pages/           # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/        # æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ state/           # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ theme/           # ä¸»é¢˜é…ç½®
â”‚   â”‚   â””â”€â”€ widgets/         # é€šç”¨ç»„ä»¶
â”‚   â””â”€â”€ pubspec.yaml         # Flutterä¾èµ–é…ç½®
â”œâ”€â”€ supabase/                # æ•°æ®åº“è¿ç§»è„šæœ¬
â”‚   â”œâ”€â”€ 001_create_tables.sql
â”‚   â”œâ”€â”€ 002_init_categories.sql
â”‚   â”œâ”€â”€ 003_rls_policies.sql
â”‚   â””â”€â”€ 004_storage_buckets.sql
â”œâ”€â”€ docs/                    # æ–‡æ¡£ç›®å½•
â”‚   â””â”€â”€ archive/             # å½’æ¡£çš„å¼€å‘æ–‡æ¡£
â”œâ”€â”€ SECURITY_SETUP.md        # å®‰å…¨é…ç½®æŒ‡å—
â”œâ”€â”€ SUPABASE_DEPLOYMENT_GUIDE.md  # Supabaseéƒ¨ç½²æŒ‡å—
â””â”€â”€ README.md                # é¡¹ç›®è¯´æ˜
```

## ğŸ”§ é…ç½®è¯´æ˜

### APIå¯†é’¥è·å–

#### Gemini APIå¯†é’¥
1. è®¿é—® [Google AI Studio](https://ai.google.dev/)
2. åˆ›å»ºAPIå¯†é’¥
3. å¤åˆ¶å¯†é’¥åˆ°é…ç½®ä¸­

#### é«˜å¾·åœ°å›¾APIå¯†é’¥
1. æ³¨å†Œ [é«˜å¾·å¼€æ”¾å¹³å°](https://console.amap.com/)
2. åˆ›å»ºåº”ç”¨å¹¶è·å–Key
3. é€‰æ‹©å¯¹åº”å¹³å°ç±»å‹

#### Supabaseé…ç½®
1. ç™»å½• [Supabase Dashboard](https://supabase.com/dashboard)
2. åˆ›å»ºæ–°é¡¹ç›®
3. åœ¨ Settings â†’ API ä¸­è·å–ï¼š
   - Project URL
   - Service role key

è¯¦ç»†é…ç½®æ­¥éª¤è¯·å‚è€ƒ [SECURITY_SETUP.md](./SECURITY_SETUP.md)

## ğŸ“– APIæ–‡æ¡£

åç«¯APIæ–‡æ¡£è¯·æŸ¥çœ‹ [backend/api/README.md](./backend/api/README.md)

ä¸»è¦æ¥å£åŒ…æ‹¬ï¼š
- ç”¨æˆ·è®¤è¯ï¼ˆæ³¨å†Œã€ç™»å½•ã€å¯†ç é‡ç½®ï¼‰
- è¡£æŸœç®¡ç†ï¼ˆæ·»åŠ ã€åˆ é™¤ã€æ›´æ–°è¡£ç‰©ï¼‰
- AIè¯•ç©¿ï¼ˆåˆ›å»ºä»»åŠ¡ã€æŸ¥è¯¢ç»“æœï¼‰
- ç¤¾åŒºåŠŸèƒ½ï¼ˆå‘å¸ƒã€è¯„è®ºã€ç‚¹èµï¼‰
- å¤©æ°”æŸ¥è¯¢

## ğŸ“ å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ
- éµå¾ªDartå®˜æ–¹ä»£ç è§„èŒƒ
- ä½¿ç”¨ESLintè¿›è¡ŒJavaScriptä»£ç æ£€æŸ¥
- æäº¤å‰è¿è¡Œ `flutter analyze` æ£€æŸ¥Flutterä»£ç 

### åˆ†æ”¯ç®¡ç†
- `master` - ç”Ÿäº§ç¯å¢ƒåˆ†æ”¯
- `main` - å¼€å‘åˆ†æ”¯
- `feature/*` - åŠŸèƒ½å¼€å‘åˆ†æ”¯

### æäº¤è§„èŒƒ
éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/)ï¼š

```
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤bug
docs: æ–‡æ¡£æ›´æ–°
style: ä»£ç æ ¼å¼è°ƒæ•´
refactor: ä»£ç é‡æ„
perf: æ€§èƒ½ä¼˜åŒ–
test: æµ‹è¯•ç›¸å…³
chore: æ„å»º/å·¥å…·é“¾ç›¸å…³
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Forkæœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'feat: Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯Pull Request

## âš ï¸ å®‰å…¨æé†’

**é‡è¦**ï¼šé¡¹ç›®ä¸­ä½¿ç”¨äº†æ•æ„Ÿçš„APIå¯†é’¥ï¼Œè¯·åŠ¡å¿…ï¼š

1. ä¸è¦å°† `.env` æ–‡ä»¶æäº¤åˆ°Git
2. ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç APIå¯†é’¥
3. ä½¿ç”¨ç¯å¢ƒå˜é‡ç®¡ç†æ‰€æœ‰æ•æ„Ÿé…ç½®
4. å®šæœŸè½®æ¢APIå¯†é’¥
5. å‚è€ƒ [SECURITY_SETUP.md](./SECURITY_SETUP.md) è¿›è¡Œå®‰å…¨é…ç½®

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ™ è‡´è°¢

- [Flutter](https://flutter.dev/) - ä¼˜ç§€çš„è·¨å¹³å°æ¡†æ¶
- [Supabase](https://supabase.com/) - å¼ºå¤§çš„åç«¯å³æœåŠ¡å¹³å°
- [Google Gemini](https://ai.google.dev/) - å…ˆè¿›çš„AIæŠ€æœ¯
- [é«˜å¾·åœ°å›¾](https://lbs.amap.com/) - å¯é çš„åœ°å›¾æœåŠ¡

## ğŸ“§ è”ç³»æ–¹å¼

- é¡¹ç›®åœ°å€ï¼š[https://github.com/cnYui/YUIkesong](https://github.com/cnYui/YUIkesong)
- é—®é¢˜åé¦ˆï¼š[Issues](https://github.com/cnYui/YUIkesong/issues)

---

**é¡¹ç›®æ„¿æ™¯**ï¼šè®©æ¯ä¸ªäººéƒ½èƒ½è½»æ¾æ‹¥æœ‰å®Œç¾çš„ç©¿æ­ï¼Œæå‡ç”Ÿæ´»å“è´¨ï¼Œå¢å¼ºè‡ªä¿¡ã€‚é€šè¿‡AIæŠ€æœ¯ï¼Œè®©æ—¶å°šä¸å†æ˜¯å°‘æ•°äººçš„ä¸“åˆ©ï¼Œè€Œæ˜¯æ¯ä¸ªäººéƒ½èƒ½äº«å—çš„æ—¥å¸¸ä½“éªŒã€‚
